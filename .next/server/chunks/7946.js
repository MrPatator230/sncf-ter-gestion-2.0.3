exports.id=7946,exports.ids=[7946],exports.modules={1619:e=>{e.exports={auraTheme:"operatorColors_auraTheme__d_Qhq",bretagneTheme:"operatorColors_bretagneTheme__z_kxX",centreTheme:"operatorColors_centreTheme__YwafM",grandEstTheme:"operatorColors_grandEstTheme___Hfnp",hdfTheme:"operatorColors_hdfTheme__8vks2",mobigoTheme:"operatorColors_mobigoTheme___hcsh",normandieTheme:"operatorColors_normandieTheme__CffTl",nouvelleAquitaineTheme:"operatorColors_nouvelleAquitaineTheme__gN9v3",occitanieTheme:"operatorColors_occitanieTheme__Pm9nM",pacaTheme:"operatorColors_pacaTheme__Z9abg",pddlTheme:"operatorColors_pddlTheme__8Dszb"}},1241:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,l:()=>n});var o=r(8732),s=r(2015);let n=(0,s.createContext)(),a=({children:e})=>{let[t,r]=(0,s.useState)("Ma Soci\xe9t\xe9 Ferroviaire"),[a,i]=(0,s.useState)("Le transport ferroviaire simplifi\xe9"),[l,c]=(0,s.useState)("Description de la soci\xe9t\xe9 ferroviaire..."),[u,d]=(0,s.useState)("#007bff"),[m,h]=(0,s.useState)("#6c757d"),[f,p]=(0,s.useState)("#28a745"),[_,g]=(0,s.useState)("Train Schedule Management"),[y,v]=(0,s.useState)("/images/logo-ter-mobigo.svg"),[S,T]=(0,s.useState)("/favicon.ico"),[x,j]=(0,s.useState)("Inter"),[C,b]=(0,s.useState)("rounded"),[k,w]=(0,s.useState)("default"),[P,A]=(0,s.useState)("\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),[M,N]=(0,s.useState)([]),[O,E]=(0,s.useState)(""),[F,I]=(0,s.useState)(2);return(0,s.useEffect)(()=>{(async function(){try{let e=await fetch("/api/entreprise");if(e.ok){let t=await e.json(),o=t.entrepriseSettings||{};r(o.company_name||"Ma Soci\xe9t\xe9 Ferroviaire"),i(o.company_slogan||"Le transport ferroviaire simplifi\xe9"),c(o.company_description||"Description de la soci\xe9t\xe9 ferroviaire..."),d(o.primary_color||"#007bff"),h(o.secondary_color||"#6c757d"),p(o.accent_color||"#28a745"),g(o.app_name||"Train Schedule Management"),v(o.logo_url||"/images/logo-ter-mobigo.svg"),T(o.favicon_url||"/favicon.ico"),j(o.font_family||"Inter"),b(o.button_style||"rounded"),w(o.header_style||"default"),A(o.footer_content||"\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),N(t.footerRegions||[]),E(o.custom_css||""),I(void 0!==o.served_stations_lines?o.served_stations_lines:2)}}catch(e){console.error("Failed to fetch settings:",e)}})()},[]),(0,s.useEffect)(()=>{let e=document.documentElement;e.style.setProperty("--primary-color",u),e.style.setProperty("--secondary-color",m),e.style.setProperty("--accent-color",f),e.style.setProperty("--font-family",x);let t=document.getElementById("custom-styles");t||((t=document.createElement("style")).id="custom-styles",document.head.appendChild(t)),t.textContent=O},[u,m,f,x,O]),(0,o.jsx)(n.Provider,{value:{companyName:t,setCompanyName:r,companySlogan:a,setCompanySlogan:i,companyDescription:l,setCompanyDescription:c,primaryColor:u,setPrimaryColor:d,secondaryColor:m,setSecondaryColor:h,accentColor:f,setAccentColor:p,appName:_,setAppName:g,logoUrl:y,setLogoUrl:v,faviconUrl:S,setFaviconUrl:T,fontFamily:x,setFontFamily:j,buttonStyle:C,setButtonStyle:b,headerStyle:k,setHeaderStyle:w,footerContent:P,setFooterContent:A,footerRegions:M,setFooterRegions:N,customCss:O,setCustomCss:E,servedStationsLines:F,setServedStationsLines:I},children:e})}},6866:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var o=r(8732);r(2350),r(2880),r(2086),r(2015);var s=r(7912),n=r.n(s),a=r(1241),i=r(4315),l=r(7841);function c({children:e}){return e}function u({Component:e,pageProps:t}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n(),{children:[(0,o.jsx)("title",{children:"SNCF Gestion"}),(0,o.jsx)("meta",{name:"description",content:"Gestion des horaires et services SNCF"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)(i.O,{children:(0,o.jsx)(a.Z,{children:(0,o.jsx)(l.W,{children:(0,o.jsx)(c,{children:(0,o.jsx)(e,{...t})})})})})]})}},9407:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(8732),s=r(883);function n(){return(0,o.jsxs)(s.Html,{children:[(0,o.jsx)(s.Head,{children:(0,o.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"})}),(0,o.jsxs)("body",{children:[(0,o.jsx)(s.Main,{}),(0,o.jsx)(s.NextScript,{})]})]})}},4315:(e,t,r)=>{"use strict";r.d(t,{O:()=>a,c:()=>n});var o=r(8732),s=r(2015);let n=(0,s.createContext)();function a({children:e}){let[t,r]=(0,s.useState)(!1),[a,i]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),u=async(e,t)=>{try{let o=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!o.ok)return!1;let s=await o.json();return r(!0),i(s.user.role),c(s.user),!0}catch(e){return console.error("Login error:",e),!1}},d=async(e,t,o="",s="",n="")=>{try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,name:o,email:s,phone:n})});if(!a.ok)return!1;return await a.json(),r(!0),i("client"),c({username:e,role:"client",name:o,email:s,phone:n}),!0}catch(e){return console.error("Registration error:",e),!1}};return(0,o.jsx)(n.Provider,{value:{isAuthenticated:t,role:a,user:l,setUser:c,login:u,logout:()=>{r(!1),i(null),c(null)},register:d},children:e})}},7841:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,W:()=>a});var o=r(8732),s=r(2015);let n=(0,s.createContext)();function a({children:e}){let[t,r]=(0,s.useState)({});return(0,o.jsx)(n.Provider,{value:{trackAssignments:t,updateTrackAssignment:(e,t,o)=>{r(r=>{let s={...r,[e]:{...r[e]||{},[t]:o}};return localStorage.setItem("trackAssignments",JSON.stringify(s)),s})},removeTrackAssignment:(e,t)=>{r(r=>{let o={...r};return o[e]&&(delete o[e][t],0===Object.keys(o[e]).length&&delete o[e]),localStorage.setItem("trackAssignments",JSON.stringify(o)),o})},clearTrackAssignments:()=>{r({}),localStorage.removeItem("trackAssignments")}},children:e})}function i(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useTrackAssignments must be used within a TrackAssignmentProvider");return e}},2880:()=>{},2086:()=>{}};