(()=>{var e={};e.id=636,e.ids=[636],e.modules={1241:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o,l:()=>i});var s=r(8732),n=r(2015);let i=(0,n.createContext)(),o=({children:e})=>{let[t,r]=(0,n.useState)("Ma Soci\xe9t\xe9 Ferroviaire"),[o,a]=(0,n.useState)("Le transport ferroviaire simplifi\xe9"),[c,l]=(0,n.useState)("Description de la soci\xe9t\xe9 ferroviaire..."),[u,d]=(0,n.useState)("#007bff"),[m,f]=(0,n.useState)("#6c757d"),[p,g]=(0,n.useState)("#28a745"),[v,y]=(0,n.useState)("Train Schedule Management"),[S,h]=(0,n.useState)("/images/logo-ter-mobigo.svg"),[x,j]=(0,n.useState)("/favicon.ico"),[_,k]=(0,n.useState)("Inter"),[w,C]=(0,n.useState)("rounded"),[T,b]=(0,n.useState)("default"),[P,O]=(0,n.useState)("\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),[A,F]=(0,n.useState)([]),[N,E]=(0,n.useState)(""),[I,M]=(0,n.useState)(2);return(0,n.useEffect)(()=>{(async function(){try{let e=await fetch("/api/entreprise");if(e.ok){let t=await e.json(),s=t.entrepriseSettings||{};r(s.company_name||"Ma Soci\xe9t\xe9 Ferroviaire"),a(s.company_slogan||"Le transport ferroviaire simplifi\xe9"),l(s.company_description||"Description de la soci\xe9t\xe9 ferroviaire..."),d(s.primary_color||"#007bff"),f(s.secondary_color||"#6c757d"),g(s.accent_color||"#28a745"),y(s.app_name||"Train Schedule Management"),h(s.logo_url||"/images/logo-ter-mobigo.svg"),j(s.favicon_url||"/favicon.ico"),k(s.font_family||"Inter"),C(s.button_style||"rounded"),b(s.header_style||"default"),O(s.footer_content||"\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),F(t.footerRegions||[]),E(s.custom_css||""),M(void 0!==s.served_stations_lines?s.served_stations_lines:2)}}catch(e){console.error("Failed to fetch settings:",e)}})()},[]),(0,n.useEffect)(()=>{let e=document.documentElement;e.style.setProperty("--primary-color",u),e.style.setProperty("--secondary-color",m),e.style.setProperty("--accent-color",p),e.style.setProperty("--font-family",_);let t=document.getElementById("custom-styles");t||((t=document.createElement("style")).id="custom-styles",document.head.appendChild(t)),t.textContent=N},[u,m,p,_,N]),(0,s.jsx)(i.Provider,{value:{companyName:t,setCompanyName:r,companySlogan:o,setCompanySlogan:a,companyDescription:c,setCompanyDescription:l,primaryColor:u,setPrimaryColor:d,secondaryColor:m,setSecondaryColor:f,accentColor:p,setAccentColor:g,appName:v,setAppName:y,logoUrl:S,setLogoUrl:h,faviconUrl:x,setFaviconUrl:j,fontFamily:_,setFontFamily:k,buttonStyle:w,setButtonStyle:C,headerStyle:T,setHeaderStyle:b,footerContent:P,setFooterContent:O,footerRegions:A,setFooterRegions:F,customCss:N,setCustomCss:E,servedStationsLines:I,setServedStationsLines:M},children:e})}},6866:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(8732);r(2350),r(2880),r(2086),r(2015);var n=r(7912),i=r.n(n),o=r(1241),a=r(4315),c=r(7841);function l({children:e}){return e}function u({Component:e,pageProps:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"SNCF Gestion"}),(0,s.jsx)("meta",{name:"description",content:"Gestion des horaires et services SNCF"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(a.O,{children:(0,s.jsx)(o.Z,{children:(0,s.jsx)(c.W,{children:(0,s.jsx)(l,{children:(0,s.jsx)(e,{...t})})})})})]})}},4315:(e,t,r)=>{"use strict";r.d(t,{O:()=>o,c:()=>i});var s=r(8732),n=r(2015);let i=(0,n.createContext)();function o({children:e}){let[t,r]=(0,n.useState)(!1),[o,a]=(0,n.useState)(null),[c,l]=(0,n.useState)(null),u=async(e,t)=>{try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!s.ok)return!1;let n=await s.json();return r(!0),a(n.user.role),l(n.user),!0}catch(e){return console.error("Login error:",e),!1}},d=async(e,t,s="",n="",i="")=>{try{let o=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,name:s,email:n,phone:i})});if(!o.ok)return!1;return await o.json(),r(!0),a("client"),l({username:e,role:"client",name:s,email:n,phone:i}),!0}catch(e){return console.error("Registration error:",e),!1}};return(0,s.jsx)(i.Provider,{value:{isAuthenticated:t,role:o,user:c,setUser:l,login:u,logout:()=>{r(!1),a(null),l(null)},register:d},children:e})}},7841:(e,t,r)=>{"use strict";r.d(t,{N:()=>a,W:()=>o});var s=r(8732),n=r(2015);let i=(0,n.createContext)();function o({children:e}){let[t,r]=(0,n.useState)({});return(0,s.jsx)(i.Provider,{value:{trackAssignments:t,updateTrackAssignment:(e,t,s)=>{r(r=>{let n={...r,[e]:{...r[e]||{},[t]:s}};return localStorage.setItem("trackAssignments",JSON.stringify(n)),n})},removeTrackAssignment:(e,t)=>{r(r=>{let s={...r};return s[e]&&(delete s[e][t],0===Object.keys(s[e]).length&&delete s[e]),localStorage.setItem("trackAssignments",JSON.stringify(s)),s})},clearTrackAssignments:()=>{r({}),localStorage.removeItem("trackAssignments")}},children:e})}function a(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useTrackAssignments must be used within a TrackAssignmentProvider");return e}},2350:()=>{},2880:()=>{},2086:()=>{},7912:e=>{"use strict";e.exports=require("next/head")},2015:e=>{"use strict";e.exports=require("react")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")}};var t=require("../webpack-runtime.js");t.C(e);var r=t(t.s=6866);module.exports=r})();