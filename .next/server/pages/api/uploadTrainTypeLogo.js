"use strict";(()=>{var e={};e.id=1891,e.ids=[1891],e.modules={8461:e=>{e.exports=require("multer")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9021:e=>{e.exports=require("fs")},3873:e=>{e.exports=require("path")},6404:e=>{e.exports=import("next-connect")},6762:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},6029:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{config:()=>p,default:()=>l,routeModule:()=>d});var o=n(9947),i=n(2706),a=n(6762),s=n(842),u=e([s]);s=(u.then?(await u)():u)[0];let l=(0,a.M)(s,"default"),p=(0,a.M)(s,"config"),d=new o.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/uploadTrainTypeLogo",pathname:"/api/uploadTrainTypeLogo",bundlePath:"",filename:""},userland:s});r()}catch(e){r(e)}})},842:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{config:()=>m,default:()=>A});var o=n(6404),i=n(8461),a=n.n(i),s=n(3873),u=n.n(s),l=n(9021),p=n.n(l),d=e([o]);o=(d.then?(await d)():d)[0];let c=u().join(process.cwd(),"public","images","logo-types-trains");p().existsSync(c)||p().mkdirSync(c,{recursive:!0});let f=a().diskStorage({destination:function(e,t,n){n(null,c)},filename:function(e,t,n){n(null,t.originalname)}}),P=a()({storage:f}),g=(0,o.default)({onError(e,t,n){n.status(501).json({error:`Sorry something Happened! ${e.message}`})},onNoMatch(e,t){t.status(405).json({error:`Method '${e.method}' Not Allowed`})}});g.use(P.single("file")),g.post((e,t)=>{let n=`/images/logo-types-trains/${e.file.filename}`;t.status(200).json({filePath:n})});let m={api:{bodyParser:!1}},A=g;r()}catch(e){r(e)}})},2706:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return n}});var n=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9947:(e,t,n)=>{e.exports=n(5600)}};var t=require("../../webpack-api-runtime.js");t.C(e);var n=t(t.s=6029);module.exports=n})();